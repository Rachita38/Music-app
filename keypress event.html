<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Song App</title>
    
    <link rel="stylesheet" type="text/css" href="main.css">
    
    <!-- Style sheet to add audio control icons-->
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
</head>

<body>
    <div class="wrapper">
        
<!--The welcome screen, which asks user information-->
        
        <section class="welcome-screen">
                    
                    <h1> Welcome to Songify </h1>
                                
            <div class="input-wrapper">
                
                    <fieldset>
                        <legend><h3>Enter User-Name and Password:</h3></legend>
                          <input type="text" placeholder="Enter User Name" id="name-input" value="rachita">
                          <input type="password" placeholder="Enter Password" id="password-input">
                        <button> Go </button>
                    </fieldset>
                
            </div>
       
        </section>
        
<!-- The main screen, when the user logs in -->
        
        <div class="main hidden">
            <header>
                <div class="right floated user-name"> 
                </div>
                <button id="logout">Log-out</button>
            </header>
            
            <section class="content">
                <audio src="song.mp3"></audio>
            </section>
            
            <footer>
            <div>
                <div class="player-buttons">
                    <i class="fa fa-play clickable play-icon"></i>
                </div>
            </div>
           </footer>
            
        </div>
    </div>
    
     <script src="jquery.js"> </script> 
    
    <script>
            
        //jQuery Code for validating user-name and displaying welcome message
        
            $('.welcome-screen button').on('click', function() {
            
                var name = $('#name-input').val();
            
                if(name.length > 2) {
                                        var message = "Welcome, " +  name;
                                        
                                        //Displaying welcome message in the main class
                                        
                                        $('.main .user-name').text(message);
                                        $('.welcome-screen').addClass('hidden');
                                        $('.main').removeClass('hidden');
                                    } 
                    else{
                            $('#name-input').addClass('error');
                        }
            
           });
        
        
        //jQuery code to allow the user to log-out and go-back to the Welcome Screen
            
            $('#logout').on('click',function(){

                $('.welcome-screen').removeClass('hidden');
                $('.main').addClass('hidden');


            });
                
                //jQuery code to play and pause the song, and pause-play icon chnages accordingly.
        
               $('.play-icon').on('click',function(){
                                                         var song = document.querySelector('audio');
                                                          
                                if(song.paused == true){
                                                            console.log('Playing');
                                                            $('.play-icon').removeClass('fa-play');
                                                            $('.play-icon').addClass('fa-pause');
                                                            song.play();
                                                       }
                                                  else {
                                                            console.log('Pausing');
                                                            $('.play-icon').removeClass('fa-pause');
                                                            $('.play-icon').addClass('fa-play');
                                                            song.pause();
                                                        }
               }); 
        
                
                //jQuery code to play and pause the song using spacebar.
                $('body').on('keypress',function(event){
                                                              if(event.keyCode == 32){
                                                                  var x=event.keyCode;
                                                                  console.log(x);
                                                                  
                                                                  var song = document.querySelector('audio');
                                                                if(song.paused == true) {
                                                                                            $('.play-icon').removeClass('fa-play');
                                                                                            $('.play-icon').addClass('fa-pause');
                                                                                            song.play();
                                                                }
                                                                else {
                                                                        $('.play-icon').removeClass('fa-pause');
                                                                        $('.play-icon').addClass('fa-play');
                                                                        song.pause(); 
                                                                }
                                                              }
                                                         }); 
    
            
        
    </script>
</body>
</html>